<div class="container-fluid h-100">
  <div class="row h-100 flex-nowrap">
    <div class="col content py-3">
      <div class="mb-3 d-flex justify-content-between">
        <div>
          <div class="d-inline-block align-middle">
            <label for="active" class="ml-1 m-0">
              <input type="checkbox" id="active" #active (change)="getSpecializations(active.checked)" checked>
              Актуальні спеціалізації
            </label>
          </div>
        </div>

        <div>
          <button type="button" class="btn btn-danger align-middle"
                  (click)="deleteSpecializationModal.openModal(selectedSpecialization[0])"
                  [disabled]="!selectedSpecialization.length">
            Видалити
          </button>

          <button type="button" class="btn btn-warning align-middle"
                  [disabled]="selectedSpecialization.length === 0 || selectedSpecialization.length > 1"
                  (click)="updateSpecializationModal.openModal(selectedSpecialization[0].id)">
            Редагувати
          </button>

          <button type="button" class="btn btn-success align-middle mr-1"
                  (click)="addSpecializationModal.openModal()">
            Нова спеціалізація
          </button>
        </div>
      </div>

      <ag-grid-angular
        class="ag-theme-balham specializations-table"
        rowSelection="multiple"
        rowHeight="50"
        rowSelection="single"
        enableCellChangeFlash=true
        [animateRows]="true"
        [accentedSort]="true"
        [rowData]="specializations"
        [columnDefs]="columnDefs"
        [localeText]="localeText"
        [getRowNodeId]="getRowNodeId"
        (selectionChanged)="selectSpecializations($event)"
        (gridReady)="onGridReady($event)"
        (modelUpdated)="onModelUpdated($event)"
      >
      </ag-grid-angular>

      <div class="bg-light fixed-bottom p-3">
        Всього: {{count || '0'}}
      </div>
    </div>
  </div>
</div>

<add-specialization #addSpecializationModal (onSubmit)="addSpecialization($event)"></add-specialization>

<delete-specialization #deleteSpecializationModal (onSubmit)="deleteSpecialization()"></delete-specialization>

<update-specialization #updateSpecializationModal (onSubmit)="updateSpecialization($event)"></update-specialization>
